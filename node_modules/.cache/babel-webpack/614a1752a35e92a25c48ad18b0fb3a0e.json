{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Alexander/Sync/Documents/Private/programming/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { animate, group, query, style, transition, trigger } from '@angular/animations';\nimport { Component } from '@angular/core'; // animation styles\n\nconst baseStyles = style({\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%'\n});\nlet AppComponent = class AppComponent {\n  constructor() {\n    this.title = 'dashboard';\n    this.backgrounds = ['https://images.unsplash.com/photo-1626082610107-db2d7dac5481?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=2160&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTYzMzg2NTgyMw&ixlib=rb-1.2.1&q=80&w=3840'];\n    this.loadingBGImage = false;\n  }\n\n  ngOnInit() {\n    this.dateTime = new Date();\n  }\n\n  prepareRoute(outlet) {\n    if (outlet.isActivated) {\n      const tab = outlet.activatedRouteData['tab'];\n      if (!tab) return 'secondary';\n      return tab;\n    }\n  }\n\n  changeBgImage() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.loadingBGImage = true;\n      const result = yield fetch('https://source.unsplash.com/random/3840×2160', {\n        method: 'HEAD'\n      });\n\n      const alreadyGot = _this.backgrounds.includes(result.url);\n\n      if (alreadyGot) {\n        // this is the same image as we currently have so we re-run the function\n        return _this.changeBgImage();\n      }\n\n      _this.backgrounds.push(result.url);\n    })();\n  }\n\n  onBGImageLoad(imgEvent) {\n    // bg img has loaded, now remove the old bg image from backgrounds array\n    const imgElement = imgEvent.target;\n    const src = imgElement.src;\n    this.backgrounds = this.backgrounds.filter(b => b === src);\n    this.loadingBGImage = false;\n  }\n\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  // animations for changing routes\n  animations: [trigger('routeAnim', [transition(':increment', [// host component style\n  style({\n    position: 'relative',\n    overflow: 'hidden'\n  }), // entering and leaving elements\n  query(':enter, :leave', [baseStyles], {\n    optional: true\n  }), group([// leaving component moving in from the right\n  query(':leave', [animate('200ms ease-in', style({\n    opacity: 0,\n    transform: 'translateX(-50px)'\n  }))], {\n    optional: true\n  }), // entering component moving in from the right\n  query(':enter', [style({\n    transform: 'translateX(50px)',\n    opacity: 0\n  }), animate('200ms 120ms ease-out', style({\n    opacity: 1,\n    transform: 'translateX(0)'\n  }))], {\n    optional: true\n  })])]), transition(':decrement', [// host component style\n  style({\n    position: 'relative',\n    overflow: 'hidden'\n  }), // entering and leaving elements\n  query(':enter, :leave', [baseStyles], {\n    optional: true\n  }), group([// leaving component moving in from the right\n  query(':leave', [animate('200ms ease-in', style({\n    opacity: 0,\n    transform: 'translateX(50px)'\n  }))], {\n    optional: true\n  }), // entering component moving in from the right\n  query(':enter', [style({\n    transform: 'translateX(-50px)',\n    opacity: 0\n  }), animate('200ms 120ms ease-out', style({\n    opacity: 1,\n    transform: 'translateX(0)'\n  }))], {\n    optional: true\n  })])]), transition('* => secondary', [style({\n    position: 'relative'\n  }), // entering and leaving elements\n  query(':enter, :leave', [baseStyles], {\n    optional: true\n  }), group([// leaving component moving in from the right\n  query(':leave', [animate('200ms ease-in', style({\n    opacity: 0,\n    transform: 'scale(.8)'\n  }))], {\n    optional: true\n  }), // entering component moving in from the right\n  query(':enter', [style({\n    transform: 'scale(1.2)',\n    opacity: 0\n  }), animate('200ms 120ms ease-out', style({\n    opacity: 1,\n    transform: 'scale(1)'\n  }))], {\n    optional: true\n  })])]), transition('secondary => *', [style({\n    position: 'relative'\n  }), // entering and leaving elements\n  query(':enter, :leave', [baseStyles], {\n    optional: true\n  }), group([// leaving component moving in from the right\n  query(':leave', [animate('200ms ease-in', style({\n    opacity: 0,\n    transform: 'scale(1.25)'\n  }))], {\n    optional: true\n  }), // entering component moving in from the right\n  query(':enter', [style({\n    transform: 'scale(.8)',\n    opacity: 0\n  }), animate('200ms 120ms ease-out', style({\n    opacity: 1,\n    transform: 'scale(1)'\n  }))], {\n    optional: true\n  })])])]), trigger('bgAnim', [transition(':leave', [animate(700, style({\n    opacity: 0\n  }))])]), trigger('fadeAnim', [transition(':enter', [style({\n    opacity: 0\n  }), animate(250, style({\n    opacity: 1\n  }))]), transition(':leave', [animate(250, style({\n    opacity: 0\n  }))])])]\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"sources":["C:\\Users\\Alexander\\Sync\\Documents\\Private\\programming\\dashboard\\src\\app\\app.component.ts"],"names":[],"mappings":";;AAAA,SAAS,OAAT,EAAkB,KAAlB,EAAyB,KAAzB,EAAgC,KAAhC,EAAuC,UAAvC,EAAmD,OAAnD,QAAkE,qBAAlE;AACA,SAAS,SAAT,QAAkC,eAAlC,C,CAGA;;AACA,MAAM,UAAU,GAAG,KAAK,CAAC;AACvB,EAAA,QAAQ,EAAE,UADa;AAEvB,EAAA,GAAG,EAAE,CAFkB;AAGvB,EAAA,IAAI,EAAE,CAHiB;AAIvB,EAAA,KAAK,EAAE,MAJgB;AAKvB,EAAA,MAAM,EAAE;AALe,CAAD,CAAxB;AAwLA,IAAa,YAAY,GAAzB,MAAa,YAAb,CAAyB;AAAzB,EAAA,WAAA,GAAA;AACE,SAAA,KAAA,GAAQ,WAAR;AAEA,SAAA,WAAA,GAAwB,CAAC,6LAAD,CAAxB;AAEA,SAAA,cAAA,GAA0B,KAA1B;AAyCD;;AArCC,EAAA,QAAQ,GAAA;AACN,SAAK,QAAL,GAAgB,IAAI,IAAJ,EAAhB;AACD;;AAED,EAAA,YAAY,CAAC,MAAD,EAAqB;AAC/B,QAAI,MAAM,CAAC,WAAX,EAAwB;AACtB,YAAM,GAAG,GAAG,MAAM,CAAC,kBAAP,CAA0B,KAA1B,CAAZ;AACA,UAAI,CAAC,GAAL,EAAU,OAAO,WAAP;AACV,aAAO,GAAP;AACD;AACF;;AAGK,EAAA,aAAa,GAAA;AAAA;;AAAA;AACjB,MAAA,KAAI,CAAC,cAAL,GAAsB,IAAtB;AAEA,YAAM,MAAM,SAAS,KAAK,CAAC,8CAAD,EAAiD;AACzE,QAAA,MAAM,EAAE;AADiE,OAAjD,CAA1B;;AAIA,YAAM,UAAU,GAAG,KAAI,CAAC,WAAL,CAAiB,QAAjB,CAA0B,MAAM,CAAC,GAAjC,CAAnB;;AACA,UAAI,UAAJ,EAAgB;AACd;AACA,eAAO,KAAI,CAAC,aAAL,EAAP;AACD;;AAED,MAAA,KAAI,CAAC,WAAL,CAAiB,IAAjB,CAAsB,MAAM,CAAC,GAA7B;AAbiB;AAclB;;AAED,EAAA,aAAa,CAAC,QAAD,EAAgB;AAC3B;AACA,UAAM,UAAU,GAAG,QAAQ,CAAC,MAA5B;AACA,UAAM,GAAG,GAAG,UAAU,CAAC,GAAvB;AACA,SAAK,WAAL,GAAmB,KAAK,WAAL,CAAiB,MAAjB,CAAwB,CAAC,IAAI,CAAC,KAAK,GAAnC,CAAnB;AAEA,SAAK,cAAL,GAAsB,KAAtB;AACD;;AA7CsB,CAAzB;AAAa,YAAY,GAAA,UAAA,CAAA,CAhLxB,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,UADD;AAET,EAAA,WAAW,EAAE,sBAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,sBAAD,CAHF;AAKT;AACA,EAAA,UAAU,EAAE,CACV,OAAO,CAAC,WAAD,EAAc,CACnB,UAAU,CAAC,YAAD,EAAe,CACvB;AACA,EAAA,KAAK,CAAC;AACJ,IAAA,QAAQ,EAAE,UADN;AAEJ,IAAA,QAAQ,EAAE;AAFN,GAAD,CAFkB,EAOvB;AACA,EAAA,KAAK,CAAC,gBAAD,EAAmB,CACtB,UADsB,CAAnB,EAEF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GAFE,CARkB,EAYvB,KAAK,CAAC,CAEJ;AACA,EAAA,KAAK,CAAC,QAAD,EAAW,CACd,OAAO,CAAC,eAAD,EAAkB,KAAK,CAAC;AAC7B,IAAA,OAAO,EAAE,CADoB;AAE7B,IAAA,SAAS,EAAE;AAFkB,GAAD,CAAvB,CADO,CAAX,EAKF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GALE,CAHD,EAUJ;AACA,EAAA,KAAK,CAAC,QAAD,EAAW,CACd,KAAK,CAAC;AACJ,IAAA,SAAS,EAAE,kBADP;AAEJ,IAAA,OAAO,EAAE;AAFL,GAAD,CADS,EAKd,OAAO,CAAC,sBAAD,EAAyB,KAAK,CAAC;AACpC,IAAA,OAAO,EAAE,CAD2B;AAEpC,IAAA,SAAS,EAAE;AAFyB,GAAD,CAA9B,CALO,CAAX,EASF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GATE,CAXD,CAAD,CAZkB,CAAf,CADS,EAqCnB,UAAU,CAAC,YAAD,EAAe,CACvB;AACA,EAAA,KAAK,CAAC;AACJ,IAAA,QAAQ,EAAE,UADN;AAEJ,IAAA,QAAQ,EAAE;AAFN,GAAD,CAFkB,EAOvB;AACA,EAAA,KAAK,CAAC,gBAAD,EAAmB,CACtB,UADsB,CAAnB,EAEF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GAFE,CARkB,EAYvB,KAAK,CAAC,CAEJ;AACA,EAAA,KAAK,CAAC,QAAD,EAAW,CACd,OAAO,CAAC,eAAD,EAAkB,KAAK,CAAC;AAC7B,IAAA,OAAO,EAAE,CADoB;AAE7B,IAAA,SAAS,EAAE;AAFkB,GAAD,CAAvB,CADO,CAAX,EAKF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GALE,CAHD,EAUJ;AACA,EAAA,KAAK,CAAC,QAAD,EAAW,CACd,KAAK,CAAC;AACJ,IAAA,SAAS,EAAE,mBADP;AAEJ,IAAA,OAAO,EAAE;AAFL,GAAD,CADS,EAKd,OAAO,CAAC,sBAAD,EAAyB,KAAK,CAAC;AACpC,IAAA,OAAO,EAAE,CAD2B;AAEpC,IAAA,SAAS,EAAE;AAFyB,GAAD,CAA9B,CALO,CAAX,EASF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GATE,CAXD,CAAD,CAZkB,CAAf,CArCS,EAyEnB,UAAU,CAAC,gBAAD,EAAmB,CAC3B,KAAK,CAAC;AACJ,IAAA,QAAQ,EAAE;AADN,GAAD,CADsB,EAK3B;AACA,EAAA,KAAK,CAAC,gBAAD,EAAmB,CACtB,UADsB,CAAnB,EAEF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GAFE,CANsB,EAU3B,KAAK,CAAC,CAEJ;AACA,EAAA,KAAK,CAAC,QAAD,EAAW,CACd,OAAO,CAAC,eAAD,EAAkB,KAAK,CAAC;AAC7B,IAAA,OAAO,EAAE,CADoB;AAE7B,IAAA,SAAS,EAAE;AAFkB,GAAD,CAAvB,CADO,CAAX,EAKF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GALE,CAHD,EAUJ;AACA,EAAA,KAAK,CAAC,QAAD,EAAW,CACd,KAAK,CAAC;AACJ,IAAA,SAAS,EAAE,YADP;AAEJ,IAAA,OAAO,EAAE;AAFL,GAAD,CADS,EAKd,OAAO,CAAC,sBAAD,EAAyB,KAAK,CAAC;AACpC,IAAA,OAAO,EAAE,CAD2B;AAEpC,IAAA,SAAS,EAAE;AAFyB,GAAD,CAA9B,CALO,CAAX,EASF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GATE,CAXD,CAAD,CAVsB,CAAnB,CAzES,EA2GnB,UAAU,CAAC,gBAAD,EAAmB,CAC3B,KAAK,CAAC;AACJ,IAAA,QAAQ,EAAE;AADN,GAAD,CADsB,EAK3B;AACA,EAAA,KAAK,CAAC,gBAAD,EAAmB,CACtB,UADsB,CAAnB,EAEF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GAFE,CANsB,EAU3B,KAAK,CAAC,CAEJ;AACA,EAAA,KAAK,CAAC,QAAD,EAAW,CACd,OAAO,CAAC,eAAD,EAAkB,KAAK,CAAC;AAC7B,IAAA,OAAO,EAAE,CADoB;AAE7B,IAAA,SAAS,EAAE;AAFkB,GAAD,CAAvB,CADO,CAAX,EAKF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GALE,CAHD,EAUJ;AACA,EAAA,KAAK,CAAC,QAAD,EAAW,CACd,KAAK,CAAC;AACJ,IAAA,SAAS,EAAE,WADP;AAEJ,IAAA,OAAO,EAAE;AAFL,GAAD,CADS,EAKd,OAAO,CAAC,sBAAD,EAAyB,KAAK,CAAC;AACpC,IAAA,OAAO,EAAE,CAD2B;AAEpC,IAAA,SAAS,EAAE;AAFyB,GAAD,CAA9B,CALO,CAAX,EASF;AAAE,IAAA,QAAQ,EAAE;AAAZ,GATE,CAXD,CAAD,CAVsB,CAAnB,CA3GS,CAAd,CADG,EAgJV,OAAO,CAAC,QAAD,EAAW,CAChB,UAAU,CAAC,QAAD,EAAW,CACnB,OAAO,CAAC,GAAD,EAAM,KAAK,CAAC;AACjB,IAAA,OAAO,EAAE;AADQ,GAAD,CAAX,CADY,CAAX,CADM,CAAX,CAhJG,EAwJV,OAAO,CAAC,UAAD,EAAa,CAClB,UAAU,CAAC,QAAD,EAAW,CACnB,KAAK,CAAC;AACJ,IAAA,OAAO,EAAE;AADL,GAAD,CADc,EAInB,OAAO,CAAC,GAAD,EAAM,KAAK,CAAC;AACjB,IAAA,OAAO,EAAE;AADQ,GAAD,CAAX,CAJY,CAAX,CADQ,EASlB,UAAU,CAAC,QAAD,EAAW,CACnB,OAAO,CAAC,GAAD,EAAM,KAAK,CAAC;AACjB,IAAA,OAAO,EAAE;AADQ,GAAD,CAAX,CADY,CAAX,CATQ,CAAb,CAxJG;AANH,CAAD,CAgLe,CAAA,EAAZ,YAAY,CAAZ;SAAA,Y","sourcesContent":["import { animate, group, query, style, transition, trigger } from '@angular/animations';\nimport { Component, OnInit } from '@angular/core';\nimport { RouterOutlet } from '@angular/router';\n\n// animation styles\nconst baseStyles = style({\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%'\n})\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n\n  // animations for changing routes\n  animations: [\n    trigger('routeAnim', [\n      transition(':increment', [\n        // host component style\n        style({\n          position: 'relative',\n          overflow: 'hidden'\n        }),\n\n        // entering and leaving elements\n        query(':enter, :leave', [\n          baseStyles\n        ], { optional: true }),\n\n        group([\n\n          // leaving component moving in from the right\n          query(':leave', [\n            animate('200ms ease-in', style({\n              opacity: 0,\n              transform: 'translateX(-50px)'\n            }))\n          ], { optional: true }),\n\n          // entering component moving in from the right\n          query(':enter', [\n            style({\n              transform: 'translateX(50px)',\n              opacity: 0\n            }),\n            animate('200ms 120ms ease-out', style({\n              opacity: 1,\n              transform: 'translateX(0)'\n            }))\n          ], { optional: true })\n        ])\n      ]),\n\n      transition(':decrement', [\n        // host component style\n        style({\n          position: 'relative',\n          overflow: 'hidden'\n        }),\n\n        // entering and leaving elements\n        query(':enter, :leave', [\n          baseStyles\n        ], { optional: true }),\n\n        group([\n\n          // leaving component moving in from the right\n          query(':leave', [\n            animate('200ms ease-in', style({\n              opacity: 0,\n              transform: 'translateX(50px)'\n            }))\n          ], { optional: true }),\n\n          // entering component moving in from the right\n          query(':enter', [\n            style({\n              transform: 'translateX(-50px)',\n              opacity: 0\n            }),\n            animate('200ms 120ms ease-out', style({\n              opacity: 1,\n              transform: 'translateX(0)'\n            }))\n          ], { optional: true })\n        ])\n      ]),\n\n      transition('* => secondary', [\n        style({\n          position: 'relative'\n        }),\n\n        // entering and leaving elements\n        query(':enter, :leave', [\n          baseStyles\n        ], { optional: true }),\n\n        group([\n\n          // leaving component moving in from the right\n          query(':leave', [\n            animate('200ms ease-in', style({\n              opacity: 0,\n              transform: 'scale(.8)'\n            }))\n          ], { optional: true }),\n\n          // entering component moving in from the right\n          query(':enter', [\n            style({\n              transform: 'scale(1.2)',\n              opacity: 0\n            }),\n            animate('200ms 120ms ease-out', style({\n              opacity: 1,\n              transform: 'scale(1)'\n            }))\n          ], { optional: true })\n        ])\n      ]),\n\n      transition('secondary => *', [\n        style({\n          position: 'relative'\n        }),\n\n        // entering and leaving elements\n        query(':enter, :leave', [\n          baseStyles\n        ], { optional: true }),\n\n        group([\n\n          // leaving component moving in from the right\n          query(':leave', [\n            animate('200ms ease-in', style({\n              opacity: 0,\n              transform: 'scale(1.25)'\n            }))\n          ], { optional: true }),\n\n          // entering component moving in from the right\n          query(':enter', [\n            style({\n              transform: 'scale(.8)',\n              opacity: 0\n            }),\n            animate('200ms 120ms ease-out', style({\n              opacity: 1,\n              transform: 'scale(1)'\n            }))\n          ], { optional: true })\n        ])\n      ])\n\n    ]),\n\n    trigger('bgAnim', [\n      transition(':leave', [\n        animate(700, style({\n          opacity: 0\n        }))\n      ])\n    ]),\n\n    trigger('fadeAnim', [\n      transition(':enter', [\n        style({\n          opacity: 0,\n        }),\n        animate(250, style({\n          opacity: 1\n        }))\n      ]),\n      transition(':leave', [\n        animate(250, style({\n          opacity: 0\n        }))\n      ])\n    ])\n  ]\n})\n\nexport class AppComponent implements OnInit{\n  title = 'dashboard';\n\n  backgrounds: string[] = ['https://images.unsplash.com/photo-1626082610107-db2d7dac5481?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=2160&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTYzMzg2NTgyMw&ixlib=rb-1.2.1&q=80&w=3840'];\n\n  loadingBGImage: boolean = false;\n\n  dateTime?: Date;\n\n  ngOnInit() {\n    this.dateTime = new Date();\n  }\n\n  prepareRoute(outlet: RouterOutlet) {\n    if (outlet.isActivated) {\n      const tab = outlet.activatedRouteData['tab'];\n      if (!tab) return 'secondary';\n      return tab;\n    }\n  }\n\n\n  async changeBgImage() {\n    this.loadingBGImage = true;\n\n    const result = await fetch('https://source.unsplash.com/random/3840×2160', {\n      method: 'HEAD'\n    })\n\n    const alreadyGot = this.backgrounds.includes(result.url)\n    if (alreadyGot) {\n      // this is the same image as we currently have so we re-run the function\n      return this.changeBgImage();\n    }\n\n    this.backgrounds.push(result.url);\n  }\n\n  onBGImageLoad(imgEvent: Event) {\n    // bg img has loaded, now remove the old bg image from backgrounds array\n    const imgElement = imgEvent.target as HTMLImageElement;\n    const src = imgElement.src;\n    this.backgrounds = this.backgrounds.filter(b => b === src);\n\n    this.loadingBGImage = false;\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}